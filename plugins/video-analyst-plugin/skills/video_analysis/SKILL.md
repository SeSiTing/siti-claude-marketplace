---
name: video_analysis
description: 视频处理和分析工具，使用 ffmpeg 将视频切片为图片，然后分析图片内容。
---

# 视频处理和分析工具

## 核心功能

使用 ffmpeg 将视频文件切片为图片帧，然后对图片进行分析，提取视频中的关键信息。

## 抽帧策略

根据视频时长选择合适的抽帧频率：

| 视频时长 | ffmpeg 参数 |
| :--- | :--- |
| < 15秒 | `-vf fps=1` |
| 15秒 - 1分钟 | `-vf fps=1/5` |
| 1-5分钟 | `-vf fps=1/10` |
| > 5分钟 | `-vf fps=1/30` |

注意：1分钟以内抽取图片数量约为秒数/5左右。

## 标准命令

```bash
mkdir -p frames
ffmpeg -i "<输入视频路径>" -vf fps=1/5 -q:v 2 "frames/vframe_%04d.jpg"
```

参数说明：
- `-i`: 输入文件路径（包含空格需用引号）
- `-vf fps=1/5`: 抽帧频率（每5秒1帧）
- `-q:v 2`: 图片质量（2为高质量）
- `frames/vframe_%04d.jpg`: 输出路径，%04d 自动生成序号

## 分析要求

对每张图片分析：视觉内容、场景环境、关键动作、文字信息。

分析完成后生成报告：视频概览、时间线分析、关键要素、总结建议。
